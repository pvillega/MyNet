<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	template="layout/template.xhtml">

	<ui:define name="body">
			
		<rich:layout>		  
		  
		  <rich:layoutPanel position="center" width="800">
		       <ui:include src="model/linkList.xhtml"/>
		  </rich:layoutPanel>
		  
		  <rich:layoutPanel position="left" width="210">
		  		<h:form id="filterByCategory">
		  	  		<!-- displays a list of tags ordered by popularity and limited -->	       
				  	<rich:panel>
				  	
				  		<f:facet name="header">Categories Tree</f:facet>
    	
				    	<rich:tree switchType="ajax" rendered="#{not empty categoryRootList.resultList}">
				           	<rich:recursiveTreeNodesAdaptor roots="#{categoryRootList.resultList}" var="category" nodes="#{category.children}">
				           		<rich:treeNode>    
				           			<h:commandLink 
				                         value="#{category.name}" 
				                         action="#{linkList.filterBy(category)}" />
				           		</rich:treeNode>          	    
				           	 	
				           	</rich:recursiveTreeNodesAdaptor>
				       	</rich:tree>
				
					</rich:panel>
				</h:form>
		  </rich:layoutPanel>		  
		</rich:layout>

	</ui:define>

</ui:composition>